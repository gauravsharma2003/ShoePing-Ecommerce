<% layout('layouts/boilerPlate') %>
<%- include('../partials/navbar') %>

<div class="container mt-5">
  <div class="row">
    <% for(let item of products) { %>
      <div class="col-lg-3 col-md-4 col-sm-6 mt-3">
        <div class="card shadow h-100 mx-auto product-card" style="width: 100%;">
          <img src="<%= item.img %>" class="card-img-top img-fluid" alt="..." style="object-fit: cover; height: 12rem;">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title"><%= item.name %></h5>
            <h5 class="card-text"><%= item.price %> &#8377;</h5>
            <p class="card-text flex-grow-1"><%= item.desc %></p>
            <a href="/products/<%= item._id %>" class="btn btn-primary mt-auto">View Item</a>
          </div>
        </div>
      </div>
    <% } %>
  </div>
</div>

<script>
  document.querySelectorAll('.product-card').forEach(card => {
    card.addEventListener('mouseenter', () => {
      gsap.to(card, { scale: 1.05, duration: 0.3 });
    });
    card.addEventListener('mouseleave', () => {
      gsap.to(card, { scale: 1, duration: 0.3 });
    });
  });
</script>
